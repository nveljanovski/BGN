<!DOCTYPE html>
<html>
<head>
	<title>BGN</title>
	<link rel="stylesheet" type="text/css" href="css/normalize.css">
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/test.css">
</head>
<body>


<div class="register_page container-fluid"> 
			
			<div class="form">
				<form class="register_form" id='register_forma'>
				<input type="text" placeholder="Username" name="username"/> 
				<input type="text" placeholder="Name" name="name"/>
				<input type="text" placeholder="Last name" name="lastname"/>
				<input type="text" placeholder="E-mail" name="email"/>
				<input type="text" placeholder="Password" name="password"/>
				<button>Register</button>
				<p class="message"> Already a member? <a href="login.html">Login</a> </p>
				<p id='poruka-forme'></p>
				</form>
			</div>
		</div>	

<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

 <script type="text/javascript">
 	var $porukaFormeElement = $('#poruka-forme')
 	$('#register_forma').submit(function (ev) {
 		var serializiranaForma = $(this).serializeArray()
 		var body = {
 			[serializiranaForma[0].name]: serializiranaForma[0].value,
 			[serializiranaForma[1].name]: serializiranaForma[1].value,
 			[serializiranaForma[2].name]: serializiranaForma[2].value,
 			[serializiranaForma[3].name]: serializiranaForma[3].value,
 			[serializiranaForma[4].name]: serializiranaForma[4].value,
 		}
 		
 		$porukaFormeElement.empty()
 		ev.preventDefault()

 		$.post('http://localhost:3000/register', body, function (res) {
 			$porukaFormeElement.html(res.message)

 			if (res.status) {
 				document.location.href = 'index.html'
 			}
 		})
 	})
 </script>

</body>






























